<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Zumo - Sonar lib: C:/Users/Kamil/Dropbox/EIT/3_Rok/Microprocessor Technology 2/ZUMO/sonar/sonar.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Zumo - Sonar lib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sonar_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">sonar.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="sonar_8h_source.html">sonar.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="servo_8h_source.html">servo.h</a>&quot;</code><br />
<code>#include &quot;sLCD.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3c0fce219d1f99a3f387fa0845bee71f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8c.html#a3c0fce219d1f99a3f387fa0845bee71f">SONAR_TICKS_PER_CM</a>&#160;&#160;&#160;87u</td></tr>
<tr class="memdesc:a3c0fce219d1f99a3f387fa0845bee71f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define number of TPM1 ticks per 1cm At 48MHz, 1 Tick coresponds to 2/3us. Knowing that 1cm ~ 54us we obtain 1cm = 87 ticks This value is only an aproximation as it does not take into account variance of speed of sound due to temperature and humidity.  <a href="#a3c0fce219d1f99a3f387fa0845bee71f">More...</a><br /></td></tr>
<tr class="separator:a3c0fce219d1f99a3f387fa0845bee71f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa61bbb41b3a83a67b09bd239677cf96c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8c.html#aa61bbb41b3a83a67b09bd239677cf96c">Sonar_init</a> (<a class="el" href="sonar_8h.html#adbd34a926249020be7c9d3174b11c561">SonarWorkModes</a> InitialWorkMode)</td></tr>
<tr class="memdesc:aa61bbb41b3a83a67b09bd239677cf96c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize Sonar and required peripherials.  <a href="#aa61bbb41b3a83a67b09bd239677cf96c">More...</a><br /></td></tr>
<tr class="separator:aa61bbb41b3a83a67b09bd239677cf96c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83cdb8d63e8beb61594f296426783711"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8c.html#a83cdb8d63e8beb61594f296426783711">TPM1_IRQHandler</a> (void)</td></tr>
<tr class="memdesc:a83cdb8d63e8beb61594f296426783711"><td class="mdescLeft">&#160;</td><td class="mdescRight">TPM1 interupt handler.  <a href="#a83cdb8d63e8beb61594f296426783711">More...</a><br /></td></tr>
<tr class="separator:a83cdb8d63e8beb61594f296426783711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff8d43f1ebc4a8e25ca43e1696af4cfe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8c.html#aff8d43f1ebc4a8e25ca43e1696af4cfe">SendTrigger</a> (void)</td></tr>
<tr class="memdesc:aff8d43f1ebc4a8e25ca43e1696af4cfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a single trigger.  <a href="#aff8d43f1ebc4a8e25ca43e1696af4cfe">More...</a><br /></td></tr>
<tr class="separator:aff8d43f1ebc4a8e25ca43e1696af4cfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5c5d1d639dbe9c05432f9b5f7da56f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8c.html#af5c5d1d639dbe9c05432f9b5f7da56f7">PIT_IRQHandler</a> (void)</td></tr>
<tr class="memdesc:af5c5d1d639dbe9c05432f9b5f7da56f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">PIT ISR This function chandels PIT interupts.  <a href="#af5c5d1d639dbe9c05432f9b5f7da56f7">More...</a><br /></td></tr>
<tr class="separator:af5c5d1d639dbe9c05432f9b5f7da56f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd69db8cc01c44c40690a6b6cc795860"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8c.html#abd69db8cc01c44c40690a6b6cc795860">SonarStartMeas</a> (void)</td></tr>
<tr class="memdesc:abd69db8cc01c44c40690a6b6cc795860"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a single sonar measurment This function can be used to trigger a single measurment. Interupt will trigger <a class="el" href="sonar_8c.html#a86eef6da455b037173b71729addbbabc" title="User handler for sonar measurment results This function handles results from sonar&#39;s continuous measu...">SonarDistHandler</a>.  <a href="#abd69db8cc01c44c40690a6b6cc795860">More...</a><br /></td></tr>
<tr class="separator:abd69db8cc01c44c40690a6b6cc795860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab806322900d6f7aee955e198bf4893c8"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8c.html#ab806322900d6f7aee955e198bf4893c8">SonarGetDistance</a> (void)</td></tr>
<tr class="memdesc:ab806322900d6f7aee955e198bf4893c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a single sonar measurment and return distance in cm. This function can be used to trigger a single measurment.  <a href="#ab806322900d6f7aee955e198bf4893c8">More...</a><br /></td></tr>
<tr class="separator:ab806322900d6f7aee955e198bf4893c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86eef6da455b037173b71729addbbabc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8c.html#a86eef6da455b037173b71729addbbabc">SonarDistHandler</a> (uint16_t distance_cm)</td></tr>
<tr class="memdesc:a86eef6da455b037173b71729addbbabc"><td class="mdescLeft">&#160;</td><td class="mdescRight">User handler for sonar measurment results This function handles results from sonar's continuous measurments. It is also called when user triggered single measurment finishes. User can specify here what to do with the results. If sonar is used, user can obtain the angle at which the measurment was taken by reading global variable <a class="el" href="servo_8h.html#a6ca30760f53d2a937b251cfb0e76a6e0" title="Define Servo Position in degrees. This variable contains predicted position of a servo. ">ServoPosition</a>.  <a href="#a86eef6da455b037173b71729addbbabc">More...</a><br /></td></tr>
<tr class="separator:a86eef6da455b037173b71729addbbabc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a39581d0ec8dddb42a2cb1df283d3de42"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sonar_8h.html#adbd34a926249020be7c9d3174b11c561">SonarWorkModes</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8c.html#a39581d0ec8dddb42a2cb1df283d3de42">SonarMode</a> = <a class="el" href="sonar_8h.html#adbd34a926249020be7c9d3174b11c561a3388f7110f6f25a54e215eb75d5d7516">SINGLE</a></td></tr>
<tr class="memdesc:a39581d0ec8dddb42a2cb1df283d3de42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define sonar work mode.  <a href="#a39581d0ec8dddb42a2cb1df283d3de42">More...</a><br /></td></tr>
<tr class="separator:a39581d0ec8dddb42a2cb1df283d3de42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6faa66e593ade7813b3e52d512b10cf4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sonar_8h.html#a693dc1e4acb94a17457de163dba95281">SonarFSM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8c.html#a6faa66e593ade7813b3e52d512b10cf4">SonarState</a> = <a class="el" href="sonar_8h.html#a693dc1e4acb94a17457de163dba95281a07e3cb491c24cc1bbb160a962a4cfc59">SONAR_IDLE</a></td></tr>
<tr class="memdesc:a6faa66e593ade7813b3e52d512b10cf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines current sonar state.  <a href="#a6faa66e593ade7813b3e52d512b10cf4">More...</a><br /></td></tr>
<tr class="separator:a6faa66e593ade7813b3e52d512b10cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af69417da33b5e397657722c33d5d00ca"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8c.html#af69417da33b5e397657722c33d5d00ca">success</a> =0</td></tr>
<tr class="memdesc:af69417da33b5e397657722c33d5d00ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debug variable containing number of successful measurments.  <a href="#af69417da33b5e397657722c33d5d00ca">More...</a><br /></td></tr>
<tr class="separator:af69417da33b5e397657722c33d5d00ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75b0e501ce80a9475b3d528a69cd1d87"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sonar_8c.html#a75b0e501ce80a9475b3d528a69cd1d87">fail</a> =0</td></tr>
<tr class="memdesc:a75b0e501ce80a9475b3d528a69cd1d87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debug variable containing number of failed measurments.  <a href="#a75b0e501ce80a9475b3d528a69cd1d87">More...</a><br /></td></tr>
<tr class="separator:a75b0e501ce80a9475b3d528a69cd1d87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a3c0fce219d1f99a3f387fa0845bee71f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SONAR_TICKS_PER_CM&#160;&#160;&#160;87u</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define number of TPM1 ticks per 1cm At 48MHz, 1 Tick coresponds to 2/3us. Knowing that 1cm ~ 54us we obtain 1cm = 87 ticks This value is only an aproximation as it does not take into account variance of speed of sound due to temperature and humidity. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Modify this parameter to include variance of speed of sound due to temperature </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af5c5d1d639dbe9c05432f9b5f7da56f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PIT_IRQHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PIT ISR This function chandels PIT interupts. </p>
<ul>
<li>Channel 1: Controls the continous work of the sonar</li>
<li>Channel 2: Used to keep track of servo movement time. </li>
</ul>

</div>
</div>
<a class="anchor" id="aff8d43f1ebc4a8e25ca43e1696af4cfe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendTrigger </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a single trigger. </p>
<p>Function sets GPIO pin high and resets TPM1 counter. When it reaches 10us TPM1 ISR turns off the pin. </p>

</div>
</div>
<a class="anchor" id="aa61bbb41b3a83a67b09bd239677cf96c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sonar_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sonar_8h.html#adbd34a926249020be7c9d3174b11c561">SonarWorkModes</a>&#160;</td>
          <td class="paramname"><em>InitialWorkMode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize Sonar and required peripherials. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">InitialWorkMode</td><td>Set initial sonar work mode </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a86eef6da455b037173b71729addbbabc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SonarDistHandler </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>distance_cm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User handler for sonar measurment results This function handles results from sonar's continuous measurments. It is also called when user triggered single measurment finishes. User can specify here what to do with the results. If sonar is used, user can obtain the angle at which the measurment was taken by reading global variable <a class="el" href="servo_8h.html#a6ca30760f53d2a937b251cfb0e76a6e0" title="Define Servo Position in degrees. This variable contains predicted position of a servo. ">ServoPosition</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">distance_cm</td><td>Measured distance in cm. If measurment failed or was out of range function will be called with parameter 0. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab806322900d6f7aee955e198bf4893c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t SonarGetDistance </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a single sonar measurment and return distance in cm. This function can be used to trigger a single measurment. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function uses busy-waiting to check servo and sonar readiness </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Measured distance in cm </dd></dl>

</div>
</div>
<a class="anchor" id="abd69db8cc01c44c40690a6b6cc795860"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SonarStartMeas </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a single sonar measurment This function can be used to trigger a single measurment. Interupt will trigger <a class="el" href="sonar_8c.html#a86eef6da455b037173b71729addbbabc" title="User handler for sonar measurment results This function handles results from sonar&#39;s continuous measu...">SonarDistHandler</a>. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function uses busy-waiting to check servo and sonar readiness </dd></dl>

</div>
</div>
<a class="anchor" id="a83cdb8d63e8beb61594f296426783711"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPM1_IRQHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TPM1 interupt handler. </p>
<p>Check which channel triggered interupt:</p><ul>
<li>CH0: If sonar state is TRIGGER_SENT, clear counter and set sonar state to CAPTURE_START<br />
 If sonar state is CAPTURE_START, process the result and set sonar state to CAPTURE_END</li>
<li>CH1: Turn off trigger pin which was set maunally or by PIT in countinous mode</li>
<li>Timer Overflow: Set sonar to CAPTURE_OVERFLOW state </li>
</ul>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a75b0e501ce80a9475b3d528a69cd1d87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t fail =0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Debug variable containing number of failed measurments. </p>

</div>
</div>
<a class="anchor" id="a39581d0ec8dddb42a2cb1df283d3de42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sonar_8h.html#adbd34a926249020be7c9d3174b11c561">SonarWorkModes</a> SonarMode = <a class="el" href="sonar_8h.html#adbd34a926249020be7c9d3174b11c561a3388f7110f6f25a54e215eb75d5d7516">SINGLE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define sonar work mode. </p>
<p>This variable sets sonar work mode. You can set it to different mode during run time </p>

</div>
</div>
<a class="anchor" id="a6faa66e593ade7813b3e52d512b10cf4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sonar_8h.html#a693dc1e4acb94a17457de163dba95281">SonarFSM</a> SonarState = <a class="el" href="sonar_8h.html#a693dc1e4acb94a17457de163dba95281a07e3cb491c24cc1bbb160a962a4cfc59">SONAR_IDLE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines current sonar state. </p>
<p>Default sonar work mode is SINGLE </p><dl class="section warning"><dt>Warning</dt><dd>{Do NOT change this anywhere except <a class="el" href="sonar_8c.html#a86eef6da455b037173b71729addbbabc" title="User handler for sonar measurment results This function handles results from sonar&#39;s continuous measu...">SonarDistHandler()</a>. Doing so might result in deadlock.} </dd></dl>

</div>
</div>
<a class="anchor" id="af69417da33b5e397657722c33d5d00ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t success =0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Debug variable containing number of successful measurments. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dfc317270c89deb8038687819d9c4f9f.html">sonar</a></li><li class="navelem"><a class="el" href="sonar_8c.html">sonar.c</a></li>
    <li class="footer">Generated on Mon Dec 22 2014 02:06:40 for Zumo - Sonar lib by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
